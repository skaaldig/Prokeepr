{% extends 'base.html' %}

{% block content %}
  <div class="row">
  <div class="table-responsive-md">
    <table class="table text-light">
      <caption>Log of products rented</caption>
      <thead>
        <tr>
          <th scope="col">Borrower</th>
          <th scope="col">Name</th>
          <th scope="col">Model</th>
          <th scope="col">Borrowed</th>
          <th scope="col">Rental End</th>
          <th scope="col">Returned</th>
          <th scope="col">Returned To</th>
          <th scope="col">Notes</th>
        </tr>
      </thead>
      <tbody>
      {% for rental in rentals %}
      <!-- Modal -->
      {% include 'manager/rental_history_modal.html' %}

      <tr>
        <td scope="row" class="{% cycle 'bg-dark' 'bg-light text-dark'%}">
          {{ rental.borrower }}
        </td>
        <td scope="row" class="{% cycle 'bg-dark' 'bg-light text-dark'%}">{{ rental.product.human_readable_name }}</td>
        <td scope="row" class="{% cycle 'bg-dark' 'bg-light text-dark'%}">{{ rental.product.serial_number }}</td>
        <td scope="row" class="{% cycle 'bg-dark' 'bg-light text-dark'%}">{{ rental.requested|date:"m/d/y" }}</td>
        <td scope="row" class="{% cycle 'bg-dark' 'bg-light text-dark'%}">{{ rental.rental_end|date:"m/d/y" }}</td>
        <td scope="row" class="{% cycle 'bg-dark' 'bg-light text-dark'%}">{{ rental.returned|date:"m/d/y" }}</td>
        <td scope="row" class="{% cycle 'bg-dark' 'bg-light text-dark'%}">{{ rental.returned_to }} Warehouse</td>
        <td scope="row" class="{% cycle 'bg-dark' 'bg-light text-dark'%}">
          <button class="button button--sea" data-toggle="modal" data-target="#loanlog__modal{{ forloop.counter }}">Notes</button>
        </td>

      </tr>
      {% endfor %}
      </tbody>


    </table>
</div>
    <div class="paginationz">
      <span class="pagination__step-links">
          {% if page_obj.has_previous %}
              <a class="pagination__first" href="?page=1">&laquo; first</a>
              <a class="pagination__previous" href="?page={{ page_obj.previous_page_number }}">previous</a>
          {% endif %}

          <span class="pagination__current">
              Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
          </span>

          {% if page_obj.has_next %}
              <a class="pagination__next" href="?page={{ page_obj.next_page_number }}">next</a>
              <a class="pagination__last" href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
          {% endif %}
      </span>
    </div>

  </div>






{% endblock %}
